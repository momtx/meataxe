////////////////////////////////////////////////////////////////////////////////////////////////////
// C MeatAxe - Duplicate a polynomial
////////////////////////////////////////////////////////////////////////////////////////////////////

#include "meataxe.h"
#include <string.h>

////////////////////////////////////////////////////////////////////////////////////////////////////
// Local data


/// @addtogroup poly
/// @{

////////////////////////////////////////////////////////////////////////////////////////////////////
/// Duplicate a polynomial.
/// This function creates a copy of an existing polynomial.
/// @param p Pointer to the polynomial.
/// @return A copy of @em p or 0 on error.
/// @see PolAlloc

Poly_t *polDup(const Poly_t *p)
{
   polValidate(MTX_HERE,p);
   Poly_t *y = polAlloc(p->field,p->degree);
   if (y == NULL) {
      mtxAbort(MTX_HERE,"Cannot allocate polynomial");
      return NULL;
   }
   memcpy(y->data,p->data,(p->degree + 1) * sizeof(FEL));
   return y;
}


/// @}
// vim:fileencoding=utf8:sw=3:ts=8:et:cin
