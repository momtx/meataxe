echo "0210 - Tensor condensation of Ru (dim = 378)"

. ../tests/common.sh

quiet="-Q"

cp "${MTX_TEST_DATA_DIR}/Ru-K378.1" tmp.$$.Ru-K378.1
cp "${MTX_TEST_DATA_DIR}/Ru-K378.2" tmp.$$.Ru-K378.2
cp "${MTX_TEST_DATA_DIR}/Ru-K378.3" tmp.$$.Ru-K378.3
cp "${MTX_TEST_DATA_DIR}/Ru-K378.4" tmp.$$.Ru-K378.4
cp "${MTX_TEST_DATA_DIR}/Ru-M378.1" tmp.$$.Ru-M378.1
cp "${MTX_TEST_DATA_DIR}/Ru-M378.2" tmp.$$.Ru-M378.2
chop ${quiet} -g 4 tmp.$$.Ru-K378 || error "CHOP failed"
pwkond ${quiet} -bt tmp.$$.Ru-K378 || error "PWKOND failed"
precond ${quiet} tmp.$$.tp tmp.$$.Ru-K378 tmp.$$.Ru-K378 || error "PRECOND failed"
tcond ${quiet} -g 2 tmp.$$.tp tmp.$$.Ru-M378 tmp.$$.Ru-M378 tmp.$$.result || error "TCOND failed"

compareBinaryWithReference Ru-K37816a.1
compareBinaryWithReference Ru-K37816a.2
compareBinaryWithReference Ru-K37820a.1
compareBinaryWithReference Ru-K37820a.2
compareBinaryWithReference Ru-K37824a.1
compareBinaryWithReference Ru-K37824a.2

compareBinaryWithReference result.1
compareBinaryWithReference result.2


# Clean up
# --------
rm -f tmp.$$.*
