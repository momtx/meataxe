echo "0200 - Submodules of m11"

. ../tests/common.sh

cp "${MTX_TEST_DATA_DIR}/m11.1" tmp.$$.m11.1
cp "${MTX_TEST_DATA_DIR}/m11.2" tmp.$$.m11.2

chop -Q tmp.$$.m11 || error "CHOP failed"
cmp tmp.$$.m11.cfinfo "${MTX_TESTCASE_DIR}/cfinfo_after_chop.expected"

pwkond -Qt tmp.$$.m11 || error "PWKOND failed"
cmp tmp.$$.m11.cfinfo "${MTX_TESTCASE_DIR}/cfinfo_after_pwkond.expected"

mkcycl -Q tmp.$$.m11 || error "MKCYCL FAILED"

mkinc -Q tmp.$$.m11 || error "MKINC FAILED"
cmp tmp.$$.m11.mnt "${MTX_TESTCASE_DIR}/mnt.expected"

mkdotl -Q tmp.$$.m11 || error "MKDOTL FAILED"
cmp tmp.$$.m11.cfinfo "${MTX_TESTCASE_DIR}/cfinfo_after_mkdotl.expected"

mksub -Q tmp.$$.m11 || error "MKSUB FAILED"
cmp tmp.$$.m11.out "${MTX_TESTCASE_DIR}/m11.out.expected"
cmp tmp.$$.m11.lat "${MTX_TESTCASE_DIR}/m11.lat.expected"
cmp tmp.$$.m11.gra "${MTX_TESTCASE_DIR}/m11.gra.expected"

soc -Q tmp.$$.m11 || error "SOC failed"
rad -Q tmp.$$.m11 || error "RAD failed"
cmp tmp.$$.m11.cfinfo "${MTX_TESTCASE_DIR}/cfinfo_after_socrad.expected"


# Clean up
rm -f tmp.$$.* 
